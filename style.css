@keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }
@keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
#mj-floating-settings-button { position: fixed; right: 20px; bottom: 20px; padding: 10px 20px; background-color: #5865F2; color: white; border: none; border-radius: 8px; cursor: pointer; z-index: 9999; box-shadow: 0 4px 12px rgba(0,0,0,0.15); transition: background-color 0.2s ease, transform 0.2s ease; font-family: sans-serif; font-weight: 500; }
#mj-floating-settings-button:hover { background-color: #4752C4; transform: scale(1.05); }
.mj-toast { position: fixed; top: 20px; right: 20px; padding: 12px 18px; border-radius: 6px; z-index: 10001; font-family: sans-serif; font-size: 14px; transform: translateY(-100%); opacity: 0; transition: transform 0.3s ease, opacity 0.3s ease; background: #2B2D31; color: #DCDDDE; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
.mj-toast.show { transform: translateY(0); opacity: 1; }
#mj-control-panel { display: flex; flex-direction: column; position: fixed; right: 20px; bottom: 80px; width: 880px; max-width: calc(100vw - 40px); height: 85vh; max-height: 800px; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.15); z-index: 10000; overflow: hidden; font-family: sans-serif; transform: translateY(20px) scale(0.95); opacity: 0; pointer-events: none; transition: transform 0.25s ease, opacity 0.25s ease; background: white; color: #111827; border: 1px solid #E0E0E0; }
#mj-control-panel.visible { transform: translateY(0) scale(1); opacity: 1; pointer-events: auto; }
.panel-header { display: flex; align-items: center; justify-content: space-between; padding: 16px 24px; border-bottom: 1px solid #E0E0E0; flex-shrink: 0; }
.panel-title { margin:0; font-size:18px; font-weight:600; }
.form-group label { display: inline-flex; align-items: center; }
.theme-trigger-btn { padding: 6px 12px; border-radius: 6px; border: 1px solid #D1D5DB; background-color: white; font-size: 13px; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; transition: all 0.2s ease; }
.theme-trigger-btn:hover { border-color: #4f46e5; }
.theme-options-menu, .mj-custom-select-options { position: absolute; background-color: white; border: 1px solid #D1D5DB; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); z-index: 10010; min-width: 180px; padding: 4px; max-height: 200px; overflow-y: auto; }
.mj-custom-select-options { bottom: calc(100% + 2px); left:0; right:0; }
.theme-options-menu {top: calc(100% + 5px); right: 0;}
.theme-option-button, .mj-custom-select-option { display: flex; align-items: center; width: 100%; padding: 8px 12px; background: none; border: none; cursor: pointer; font-size: 13px; color: #1F2937; border-radius: 4px; transition: all 0.15s ease; gap: 8px; text-align: left; }
.theme-option-button:hover, .mj-custom-select-option:hover { background-color: #f0f0f0; }
.theme-option-button.active, .mj-custom-select-option.active { background-color: #eef2ff; color: #4338ca; font-weight: 500; }
.panel-main-content { display: flex; flex-direction: column; flex-grow: 1; overflow: hidden; }
.panel-tabs { display: flex; padding: 12px 24px 0; border-bottom: 1px solid #E0E0E0; flex-shrink: 0; gap: 16px; }
.tab-link { padding: 8px 4px; margin-bottom: -1px; background: none; border: none; border-bottom: 2px solid transparent; cursor: pointer; font-size: 15px; color: #6B7280; transition: all 0.2s ease; }
.tab-link:hover { color: #374151; }
.tab-link.active { color: #4f46e5; border-bottom-color: #4f46e5; font-weight: 500; }
.tab-content { display: none; padding: 20px 24px; overflow-y: auto; flex-grow: 1; }
.tab-content.active { display: block; animation: fadeIn 0.3s ease; }
.form-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px 24px; }
.form-group { display: flex; flex-direction: column; gap: 8px; }
.form-group.span-2 { grid-column: span 2; }
.form-group > label { font-weight: 500; font-size: 14px; color: #1F2937; }
.ref-module-header h4 { margin: 0; font-size: 16px; font-weight: 600; color: #1f2937; display: inline-flex; align-items: center;}
.form-group input[type="text"], .form-group input[type="number"], .form-group textarea, .mj-custom-select-trigger, .ref-url-input, .ref-weight-input, .weight-edit-input, .preset-input-name { background: white; color: #111827; border: 1px solid #D1D5DB; padding: 8px 12px; border-radius: 6px; font-size: 14px; transition: all 0.2s ease; box-sizing: border-box; width: 100%; }
.mj-custom-select-trigger { display: flex; justify-content: space-between; align-items: center; text-align: left; cursor: pointer; }
.mj-custom-select-arrow svg { width: 1em; height: 1em; vertical-align: middle; fill: currentColor; transition: transform 0.2s ease; }
.mj-custom-select-trigger[aria-expanded="true"] .mj-custom-select-arrow svg { transform: rotate(180deg); }
.form-group input[type="text"]:focus, .form-group input[type="number"]:focus, .form-group textarea:focus, .mj-custom-select-trigger:focus, .ref-url-input:focus, .ref-weight-input:focus, .weight-edit-input:focus, .preset-input-name:focus { border-color: #4f46e5; box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2); outline: none; }
.mj-custom-select-container { position: relative; }
.form-group textarea { resize: vertical; min-height: 80px; }
.ref-grid-main { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; padding: 0; }
.ref-module { background: #f8fafc; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; display: flex; flex-direction: column; gap: 12px; }
.ref-module-header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 8px; border-bottom: 1px solid #e5e7eb; }
.global-weight-control { display: flex; align-items: center; gap: 8px; }
.global-weight-control label { font-size: 12px; color: #6b7280; white-space: nowrap; }
.weight-slider-mini { display: flex; align-items: center; gap: 6px; }
.weight-slider-mini input[type="range"] { width: 60px; height: 4px; margin:0; padding:0; }
.weight-slider-mini span { font-size: 12px; color: #4B5563; min-width: 25px; text-align: center; font-weight: 500; }
.ref-input-section { display: flex; gap: 8px; align-items: center; }
.ref-url-input { flex: 1; }
.ref-weight-input { width: 70px; text-align: center; }
.ref-add-btn { padding: 8px 16px; background: #4f46e5; color: white; border: none; border-radius: 6px; font-size: 13px; cursor: pointer; transition: all 0.2s ease; white-space: nowrap; }
.ref-add-btn:hover { background: #4338ca; }
.ref-container-large { position: relative; min-height: 90px; padding: 12px; background: white; border-radius: 8px; border: 2px dashed #d1d5db; display: flex; flex-wrap: wrap; gap: 12px; align-content: flex-start; transition: all 0.2s ease; }
.ref-container-large.drag-over { border-style: solid; border-color: #4f46e5; background-color: #eef2ff; }
.ref-container-large:not(.mj-ref-has-items):not(.drag-over):before { content: '拖拽图片到此处或使用上方输入框添加'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #9ca3af; font-size: 14px; pointer-events: none; text-align: center; }
.dark-mode .ref-container-large:not(.mj-ref-has-items):not(.drag-over):before { color: #8e9297; }
.drop-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(79, 70, 229, 0.1); border-radius: inherit; align-items: center; justify-content: center; z-index: 10; display:flex; }
.drop-overlay-content { display: flex; flex-direction: column; align-items: center; gap: 8px; }
.drop-icon { color: #4f46e5; } .drop-icon svg { display: block; }
.drop-text { font-size: 14px; color: #4f46e5; font-weight: 500; }
.ref-item-large { position: relative; width: 80px; height: 80px; border-radius: 8px; background: #f3f4f6; border: 2px solid #d1d5db; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease; flex-shrink: 0; overflow: hidden; }
.ref-item-large:hover { transform: scale(1.05); box-shadow: 0 4px 12px rgba(0,0,0,0.15); border-color: #4f46e5; }
.ref-item-large.disabled { opacity: 0.5; filter: grayscale(80%); }
.ref-item-large.load-error { border-color: #ef4444; }
.ref-image-large { width: 100%; height: 100%; object-fit: cover; }
.ref-image-large.mj-lightbox-thumb { cursor: zoom-in; }
.ref-code-large { font-size: 11px; font-family: monospace; color: #4f46e5; text-align: center; word-break: break-all; padding: 6px; font-weight: 600; }
.ref-error-large { font-size: 12px; color: #ef4444; text-align: center; padding: 4px; width:100%; user-select: none; }
.weight-large { position: absolute; bottom: 3px; left: 3px; background: rgba(0,0,0,0.75); color: white; font-size: 10px; padding: 1px 4px; border-radius: 3px; font-family: monospace; font-weight: 600; z-index: 1; }
.ref-edit-large, .ref-toggle-large, .ref-delete-large { width: 20px; height: 20px; border: none; border-radius: 4px; font-size: 12px; line-height: 1; cursor: pointer; transition: opacity 0.15s ease, background-color 0.15s ease, color 0.15s ease; display: flex; align-items: center; justify-content: center; position: absolute; opacity: 0; background: rgba(255,255,255,0.8); box-shadow: 0 1px 2px rgba(0,0,0,0.15); z-index: 2; }
.ref-item-large:hover .ref-edit-large, .ref-item-large:hover .ref-toggle-large, .ref-item-large:hover .ref-delete-large { opacity: 1; }
.ref-edit-large { top: 3px; left: 3px; color: #4f46e5; } .ref-edit-large svg { width:12px; height:12px; }
.ref-edit-large:hover { background: #4f46e5; color: white; }
.ref-delete-large { top: 3px; right: 3px; color: #ef4444; font-size: 14px; }
.ref-delete-large:hover { background: #ef4444; color: white; }
.ref-toggle-large { bottom: 3px; right: 3px; color: #6b7280; font-size: 14px; }
.ref-toggle-large.active { background: #10b981; color: white; }
.ref-toggle-large:not(.active):hover { background: #e0e0e0; }
.weight-edit-dialog { position: fixed; top:0;left:0;right:0;bottom:0; z-index:10002; display:flex;align-items:center;justify-content:center; }
.weight-edit-overlay { position:absolute;top:0;left:0;right:0;bottom:0; background:rgba(0,0,0,0.5); }
.weight-edit-content { position:relative; background:white; border-radius:12px; padding:24px; min-width:300px; box-shadow:0 8px 24px rgba(0,0,0,0.15); z-index:1; }
.weight-edit-content h4 { margin:0 0 16px 0; font-size:16px; font-weight:600; color:#1f2937; }
.weight-edit-input-group { margin-bottom:20px; }
.weight-edit-input-group label { display:block; margin-bottom:8px; font-size:14px; font-weight:500; color:#1f2937; }
.weight-edit-buttons { display:flex; gap:12px; justify-content:flex-end; }
.weight-edit-cancel, .weight-edit-save { padding:8px 16px; border-radius:6px; font-size:14px; font-weight:500; cursor:pointer; transition:all 0.2s ease; border:1px solid transparent; }
.weight-edit-cancel { background:#e5e7eb; color:#374151; border-color:#d1d5db; } .weight-edit-cancel:hover { background:#d1d5db; }
.weight-edit-save { background:#4f46e5; color:white; } .weight-edit-save:hover { background:#4338ca; }
.slider-control { display: flex; align-items: center; gap: 12px; }
.slider-control input[type="range"] { flex-grow: 1; margin:0; padding:0; height: 16px; }
.slider-control span { font-size: 14px; color: #4B5563; min-width: 35px; text-align: right; }
input[type="range"] { -webkit-appearance: none; background: transparent; cursor: pointer; width: 100%; }
input[type="range"]::-webkit-slider-runnable-track { background: #E5E7EB; height: 6px; border-radius: 3px; }
input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; margin-top: -5px; background-color: #4f46e5; height: 16px; width: 16px; border-radius: 50%; border: 2px solid white; box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
.btn-group { display: flex; border-radius:6px; overflow:hidden; border:1px solid #d1d5db; }
.btn-group button { flex:1; padding: 8px 10px; background:white; border:none; cursor:pointer; color: #374151; transition: all 0.2s; font-size: 13px; }
.btn-group button:not(:last-child) { border-right: 1px solid #d1d5db; }
.btn-group button.active { background: #4f46e5; color: white; }
.toggle-group { display: flex; align-items: center; justify-content: space-between; gap: 8px; padding: 8px; border-radius: 6px; background-color: #F9FAFB; }
.toggle-group label { font-size: 14px; cursor: pointer; user-select: none; }
.toggle-switch { position:relative; width:40px; height:20px; border-radius:10px; background:#e5e7eb; cursor:pointer; transition: background-color 0.2s ease; flex-shrink: 0; }
.toggle-switch .toggle-dot { position:absolute; top:2px; left:2px; width:16px; height:16px; border-radius:50%; background:white; box-shadow:0 1px 3px rgba(0,0,0,0.2); transition:all 0.2s ease; }
.toggle-switch.active { background:#4f46e5; } .toggle-switch.active .toggle-dot { transform: translateX(20px); }
#ar-section .ar-controls { display: flex; gap: 20px; align-items: center; }
.ar-preview-container { position:relative; width:100px; height:100px; flex-shrink: 0; }
#ratio-preview-bg { width:100px; height:100px; border:2px dashed #d1d5db; border-radius:12px; }
#ratio-preview { position:absolute; top:0; left:0; width:100%; height:100%; display: flex; align-items: center; justify-content: center; }
#ratio-box { background:#f3f4f6; border:2px solid #374151; border-radius:6px; display:flex; align-items:center; justify-content:center; font-size:12px; color:#374151; transition: all 0.2s ease; }
.ar-slider-group { flex-grow: 1; display: flex; flex-direction: column; gap: 12px; }
.ar-slider-group #size-buttons { width: 100%; }
.panel-footer { padding: 16px 24px; border-top: 1px solid #E0E0E0; flex-shrink: 0; background-color: #f9fafb; }
.panel-footer #prompt-params { width: 100%; height: 60px; resize: vertical; box-sizing: border-box; font-family: monospace; }
.footer-actions { display: flex; justify-content: space-between; align-items: center; margin-top: 12px; }
.footer-actions .imagine-toggle { padding: 0; background: none; }
.footer-buttons { display: flex; gap: 12px; }
.action-button-primary, .action-button-secondary { padding: 8px 20px; border-radius: 6px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s ease; border: 1px solid transparent; }
.action-button-primary { background: #4f46e5; color: white; } .action-button-primary:hover { background: #4338CA; }
.action-button-secondary { background: #E5E7EB; color: #374151; border-color: #D1D5DB; } .action-button-secondary:hover { background: #D1D5DB; }
.presets-controls, .history-controls { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; gap: 15px; }
.preset-input-name { flex-grow: 1; }
.preset-save-button, .history-clear-button { white-space: nowrap; }
.settings-subheader { margin-top: 0; margin-bottom: 10px; font-size: 15px; font-weight: 600; color: #374151; flex-grow: 1; }
.history-controls .settings-subheader { margin-top: 0; }
.settings-list { list-style: none; padding: 0; margin: 0; max-height: calc(85vh - 300px); overflow-y: auto; border: 1px solid #E0E0E0; border-radius: 6px; }
.settings-list-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 12px; border-bottom: 1px solid #E0E0E0; }
.settings-list-item:last-child { border-bottom: none; }
.settings-list-item .item-name { flex-grow: 1; margin-right: 10px; font-size: 14px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; cursor: default; }
.settings-list-item .history-prompt-text { font-family: monospace; font-size: 13px; }
.settings-list-item .item-actions { display: flex; gap: 8px; flex-shrink: 0; }
.settings-list-item .item-action-btn { padding: 5px 10px; font-size: 13px; }
.action-button-danger { background-color: #ef4444; color: white; border-color: #dc2626; }
.action-button-danger:hover { background-color: #dc2626; }
.settings-list-empty { padding: 10px 12px; color: #6B7280; text-align: center; font-style: italic; }
/* Dark Mode Styles */
#mj-control-panel.dark-mode { background:#2B2D31; color:#DCDDDE; border-color:#202225; }
.dark-mode .panel-header { border-bottom-color:#202225; }
.dark-mode .theme-trigger-btn { border-color:#2D2F34; background-color:#2B2D31; color:#DCDDDE; } .dark-mode .theme-trigger-btn:hover { border-color:#7289DA; }
.dark-mode .theme-options-menu, .dark-mode .mj-custom-select-options { background-color:#2B2D31; border-color:#202225; }
.dark-mode .theme-option-button, .dark-mode .mj-custom-select-option { color:#DCDDDE; }
.dark-mode .theme-option-button:hover, .dark-mode .mj-custom-select-option:hover { background-color:#393c43; }
.dark-mode .theme-option-button.active, .dark-mode .mj-custom-select-option.active { background-color:#404EED; color:white; }
.dark-mode .panel-tabs { border-bottom-color:#202225; }
.dark-mode .tab-link { color:#8e9297; } .dark-mode .tab-link:hover { color:#dcddde; }
.dark-mode .tab-link.active { color:#7289DA; border-bottom-color:#7289DA; }
.dark-mode .form-group > label { color:#DCDDDE; }
.dark-mode .ref-module-header h4 { color:#dcddde; }
.dark-mode .form-group input[type="text"], .dark-mode .form-group input[type="number"], .dark-mode .form-group textarea, .dark-mode .mj-custom-select-trigger, .dark-mode .ref-url-input, .dark-mode .ref-weight-input, .dark-mode .weight-edit-input, .dark-mode .panel-footer #prompt-params { background:#202225; color:#DCDDDE; border-color:#40444B; }
.dark-mode .form-group input[type="text"]:focus, .dark-mode .form-group input[type="number"]:focus, .dark-mode .form-group textarea:focus, .dark-mode .mj-custom-select-trigger:focus,.dark-mode .ref-url-input:focus, .dark-mode .ref-weight-input:focus, .dark-mode .weight-edit-input:focus, .dark-mode .preset-input-name:focus, .dark-mode .panel-footer #prompt-params:focus { border-color:#7289DA; box-shadow:0 0 0 2px rgba(114,137,218,0.2); }
.dark-mode input[type="range"]::-webkit-slider-runnable-track { background:#40444B; }
.dark-mode input[type="range"]::-webkit-slider-thumb { background-color:#7289DA; border-color:#2B2D31; }
.dark-mode .slider-control span { color:#b9bbbe; }
.dark-mode .btn-group { border-color:#2D2F34; }
.dark-mode .btn-group button { background:#40444B; color:#DCDDDE; } .dark-mode .btn-group button:not(:last-child) { border-right-color:#2D2F34; }
.dark-mode .btn-group button.active { background:#5865F2; color:white; }
.dark-mode .toggle-group { background-color:#202225; }
.dark-mode .toggle-switch { background:#4E4F52; } .dark-mode .toggle-switch .toggle-dot { background:#B9BBBE; }
.dark-mode .toggle-switch.active { background:#5865F2; }
.dark-mode #ratio-preview-bg { border-color:#40444B; }
.dark-mode #ratio-box { background:#40444B; color:#DCDDDE; border-color:#70747A; }
.dark-mode .panel-footer { background-color:#2B2D31; border-top-color:#202225; }
.dark-mode .action-button-primary { background:#5865F2; } .dark-mode .action-button-primary:hover { background:#4752C4; }
.dark-mode .action-button-secondary { background:#40444B; color:#DCDDDE; border-color:#2D2F34; } .dark-mode .action-button-secondary:hover { background:#4F545C; }
.dark-mode .ref-module { background:#1a1d21; border-color:#2D2F34; }
.dark-mode .ref-module-header { border-bottom-color:#2D2F34; }
.dark-mode .global-weight-control label { color:#8e9297; } .dark-mode .weight-slider-mini span { color:#b9bbbe; }
.dark-mode .ref-add-btn { background:#5865F2; } .dark-mode .ref-add-btn:hover { background:#4752C4; }
.dark-mode .ref-container-large { background:#202225; border-color:#2D2F34; }
.dark-mode .ref-container-large.drag-over { border-color:#5865F2; background-color:#2f3136; }
.dark-mode .ref-item-large { background:#313338; border-color:#2D2F34; }
.dark-mode .ref-item-large:hover { border-color:#7289DA; }
.dark-mode .ref-code-large { color:#7289DA; } .dark-mode .ref-error-large { color:#ff6b6b; }
.dark-mode .weight-large { background:rgba(0,0,0,0.85); }
.dark-mode .ref-edit-large, .dark-mode .ref-toggle-large, .dark-mode .ref-delete-large { background:rgba(79,84,92,0.8); }
.dark-mode .ref-edit-large { color:#7289DA; } .dark-mode .ref-edit-large:hover { background:#7289DA; color:white; }
.dark-mode .ref-delete-large { color:#ff6b6b; } .dark-mode .ref-delete-large:hover { background:#ff6b6b; color:white; }
.dark-mode .ref-toggle-large { color:#b9bbbe; } .dark-mode .ref-toggle-large.active { background:#248046; }
.dark-mode .ref-toggle-large:not(.active):hover { background:#555c66; }
.dark-mode .weight-edit-content { background:#2B2D31; color:#dcddde; } .dark-mode .weight-edit-content h4 { color:#dcddde; }
.dark-mode .weight-edit-input-group label { color:#dcddde; }
.dark-mode .weight-edit-cancel { background:#40444B; color:#dcddde; border-color:#2D2F34; } .dark-mode .weight-edit-cancel:hover { background:#4F545C; }
.dark-mode .weight-edit-save { background:#5865F2; } .dark-mode .weight-edit-save:hover { background:#4752C4; }
.dark-mode .settings-subheader { color: #b9bbbe; }
.dark-mode .settings-list { border-color: #2D2F34; }
.dark-mode .settings-list-item { border-bottom-color: #2D2F34; }
.dark-mode .action-button-danger { background-color: #c93c3c; border-color: #b32d2d; }
.dark-mode .action-button-danger:hover { background-color: #b32d2d; }
.dark-mode .settings-list-empty { color: #8e9297; }
/* Tooltip Icon Styles */
.mj-tooltip-trigger-icon { display: inline-flex; align-items: center; justify-content: center; cursor: help; margin-left: 5px; color: #6B7280; padding: 0; border-radius: 50%; width: 16px; height: 16px; vertical-align: middle; transition: color 0.2s ease, background-color 0.2s ease; }
.mj-tooltip-trigger-icon:hover, .mj-tooltip-trigger-icon:focus { color: #4f46e5; background-color: rgba(79, 70, 229, 0.1); outline: none; }
.mj-tooltip-trigger-icon svg { width: 100%; height: 100%; display: block; }
#mj-control-panel.dark-mode .mj-tooltip-trigger-icon { color: #8e9297; }
#mj-control-panel.dark-mode .mj-tooltip-trigger-icon:hover, #mj-control-panel.dark-mode .mj-tooltip-trigger-icon:focus { color: #7289DA; background-color: rgba(114, 137, 218, 0.15); }
/* Tooltip Box Styles */
.mj-enhanced-tooltip { position: absolute; background-color: #ffffff; color: #333333; border: 1px solid #cccccc; padding: 8px 12px; border-radius: 6px; font-size: 13px; font-family: sans-serif; z-index: 10005; pointer-events: none; opacity: 0; display: none; transition: opacity 0.15s ease-out; max-width: 320px; line-height: 1.4; box-shadow: 0 3px 10px rgba(0,0,0,0.15); }
.mj-enhanced-tooltip.visible { opacity: 1; display: block; }
.mj-enhanced-tooltip .tooltip-zh { display: block; font-weight: 500; }
#mj-control-panel.dark-mode .mj-enhanced-tooltip { background-color: #3a3d42; color: #dddddd; border-color: #2a2c30; box-shadow: 0 3px 10px rgba(0,0,0,0.3); }

/* Lightbox Styles */
.mj-lightbox-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); display: flex; align-items: center; justify-content: center; z-index: 10003; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0s linear 0.3s; }
.mj-lightbox-overlay.visible { opacity: 1; visibility: visible; transition-delay: 0s; }
.mj-lightbox-content { position: relative; background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); max-width: 90vw; max-height: 90vh; display: flex; align-items: center; justify-content: center; transform: scale(0.9); transition: transform 0.3s ease; }
.mj-lightbox-overlay.visible .mj-lightbox-content { transform: scale(1); }
.mj-lightbox-image { display: block; max-width: 100%; max-height: calc(90vh - 40px); object-fit: contain; border-radius: 4px; }
.mj-lightbox-close { position: absolute; top: -12px; right: -12px; background: #333; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; line-height: 1; cursor: pointer; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.2); transition: background-color 0.2s ease; z-index: 10; }
.mj-lightbox-close:hover { background: #555; }
#mj-control-panel.dark-mode ~ #mj-image-lightbox .mj-lightbox-content { background: #2B2D31; }
#mj-control-panel.dark-mode ~ #mj-image-lightbox .mj-lightbox-close { background: #40444B; color: #DCDDDE; border-color: #2B2D31; }
#mj-control-panel.dark-mode ~ #mj-image-lightbox .mj-lightbox-close:hover { background: #4F545C; }
body.mj-lightbox-no-scroll { overflow: hidden; }

/* Custom Select (Version Dropdown) Styles */
.mj-custom-select-container { position: relative; width:100%; }
.mj-custom-select-trigger { width: 100%; background-color: white; border: 1px solid #D1D5DB; border-radius: 6px; padding: 8px 12px; font-size: 14px; color: #111827; text-align: left; cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: border-color 0.2s ease, box-shadow 0.2s ease; }
.mj-custom-select-trigger:hover { border-color: #a5b4fc; }
.mj-custom-select-trigger:focus, .mj-custom-select-trigger[aria-expanded="true"] { border-color: #4f46e5; box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2); outline: none; }
.mj-custom-select-arrow { margin-left: 8px; color: #6B7280; display:inline-flex; align-items:center; }
.mj-custom-select-arrow svg { width: 1em; height: 1em; vertical-align: middle; fill: currentColor; transition: transform 0.2s ease; }
.mj-custom-select-trigger[aria-expanded="true"] .mj-custom-select-arrow svg { transform: rotate(180deg); }
#mj-control-panel.dark-mode .mj-custom-select-trigger { background-color: #202225; border-color: #40444B; color: #DCDDDE; }
#mj-control-panel.dark-mode .mj-custom-select-trigger:hover { border-color: #6265F0; }
#mj-control-panel.dark-mode .mj-custom-select-trigger:focus, #mj-control-panel.dark-mode .mj-custom-select-trigger[aria-expanded="true"] { border-color: #7289DA; box-shadow: 0 0 0 2px rgba(114,137,218,0.2); }
#mj-control-panel.dark-mode .mj-custom-select-arrow { color: #8e9297; }
